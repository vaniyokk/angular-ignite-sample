<div id="search-component">
  <ng-container [ngSwitch]="mode">
    <ng-container *ngSwitchCase="'autocomplete'">
      <igx-input-group>
        <input igxInput #searchBox id="search-box" (keyup)="search(searchBox.value)" [(ngModel)]="searchBoxText"/>
      </igx-input-group>
      <ul class="search-result" *ngIf="searchBoxText">
        <li *ngFor="let hero of heroes$ | async" (click)="onSelect(hero)">
          <!-- TODO: save and expose value on click -->
          <a>
            {{hero.name}}
          </a>
        </li>
      </ul>
    </ng-container>
    <ng-container *ngSwitchCase="'table'">
      <igx-input-group>
        <input igxInput #tableBox id="table-box" (click)="showSearchTable()" />
      </igx-input-group>

      <igx-dialog #tableDialog
        class="table-dialog"
        title="Click any row to select an entity"
        closeOnOutsideSelect="true"
      >
        <div class="table-dialog__content">
          <igx-grid
            #grid
            [data]="heroes"
            width="800px"
            height="600px"
            [autoGenerate]="true"
            *ngIf="heroes.length > 0"
            (onSelection)="handleRowSelection($event)"
            [paging]="true">
          </igx-grid>
        </div>
      </igx-dialog>
    </ng-container>

  </ng-container>
</div>
